---
title: "Installing the ktest package"
author: "Ghislain DURIF"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Installing the ktest package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Package requirements

- R version 4.1+
- Python version 3.12+

**Important:** Python is a requirement as an intern machinery for the package to work but you will not need to create nor manipulate Python codes to use the `ktest` R package.

The `ktest` R package is using the `ktest` Python package under the hood thanks to the [`reticulate`](https://CRAN.R-project.org/package=reticulate) R package that provides an "R Interface to Python".

> **Note:** `reticulate` manages Python program and Python packages by using [`uv`](https://docs.astral.sh/uv/) Python package and project manager. If `uv` is not available on your system, then `reticulate` will install it seamlessly. If you encounter any issue (related to `reticulate` not being able to find a working Python on your system), then you can install `uv` manually to solve it (see `uv` installation [documentation](https://docs.astral.sh/uv/getting-started/installation/)). Also, see [here](https://rstudio.github.io/reticulate/articles/python_packages.html) and [here](https://rstudio.github.io/reticulate/reference/py_require.html) for more details about how Python is managed by `reticulate` in `ktest` package.

## Installation

You can install the development version of `ktest` with the following commands:

```{r setup-install-dev, eval=FALSE}
install.packages("remotes")
remotes::install_github("LMJL-Alea/ktest", ref = "main", subdir = "r-pkg")
```

> **Note:** `ktest` is not available on CRAN at the moment but will be shortly.

## Usage

Once the `ktest` package is installed and configured, to use it, you only need (1) to load it like any other R package and (2) to fix `reticulate` setup by doing the following:
```{r load-ktest, eval=FALSE}
# load ktest R package
library(ktest)

# fix reticulate setup
reticulate::py_config()
```

> **Note:** the second step will trigger a Python environment setup and Python requirement installation ( for the first time use only), which could take some time.

You can check that every thing is working by doing:
```{r check-ktest, eval=FALSE}
# check ktest configuration
check_ktest()
```

Then you can use `ktest` package:
```{r use-ktest, eval=FALSE}
# load data...

# define a ktest object and run an analysis
kt <- ktest(...) # see other vignettes
```
